{"ast":null,"code":"'use strict';\n\nconst Action = require('./Action');\n\nclass GuildEmojisUpdateAction extends Action {\n  handle(data) {\n    const guild = this.client.guilds.cache.get(data.guild_id);\n    if (!guild?.emojis) return;\n    const deletions = new Map(guild.emojis.cache);\n\n    for (const emoji of data.emojis) {\n      // Determine type of emoji event\n      const cachedEmoji = guild.emojis.cache.get(emoji.id);\n\n      if (cachedEmoji) {\n        deletions.delete(emoji.id);\n\n        if (!cachedEmoji.equals(emoji)) {\n          // Emoji updated\n          this.client.actions.GuildEmojiUpdate.handle(cachedEmoji, emoji);\n        }\n      } else {\n        // Emoji added\n        this.client.actions.GuildEmojiCreate.handle(guild, emoji);\n      }\n    }\n\n    for (const emoji of deletions.values()) {\n      // Emoji deleted\n      this.client.actions.GuildEmojiDelete.handle(emoji);\n    }\n  }\n\n}\n\nmodule.exports = GuildEmojisUpdateAction;","map":{"version":3,"names":["Action","require","GuildEmojisUpdateAction","handle","data","guild","client","guilds","cache","get","guild_id","emojis","deletions","Map","emoji","cachedEmoji","id","delete","equals","actions","GuildEmojiUpdate","GuildEmojiCreate","values","GuildEmojiDelete","module","exports"],"sources":["C:/Users/ROUSER6/node_modules/discord.js/src/client/actions/GuildEmojisUpdate.js"],"sourcesContent":["'use strict';\n\nconst Action = require('./Action');\n\nclass GuildEmojisUpdateAction extends Action {\n  handle(data) {\n    const guild = this.client.guilds.cache.get(data.guild_id);\n    if (!guild?.emojis) return;\n\n    const deletions = new Map(guild.emojis.cache);\n\n    for (const emoji of data.emojis) {\n      // Determine type of emoji event\n      const cachedEmoji = guild.emojis.cache.get(emoji.id);\n      if (cachedEmoji) {\n        deletions.delete(emoji.id);\n        if (!cachedEmoji.equals(emoji)) {\n          // Emoji updated\n          this.client.actions.GuildEmojiUpdate.handle(cachedEmoji, emoji);\n        }\n      } else {\n        // Emoji added\n        this.client.actions.GuildEmojiCreate.handle(guild, emoji);\n      }\n    }\n\n    for (const emoji of deletions.values()) {\n      // Emoji deleted\n      this.client.actions.GuildEmojiDelete.handle(emoji);\n    }\n  }\n}\n\nmodule.exports = GuildEmojisUpdateAction;\n"],"mappings":"AAAA;;AAEA,MAAMA,MAAM,GAAGC,OAAO,CAAC,UAAD,CAAtB;;AAEA,MAAMC,uBAAN,SAAsCF,MAAtC,CAA6C;EAC3CG,MAAM,CAACC,IAAD,EAAO;IACX,MAAMC,KAAK,GAAG,KAAKC,MAAL,CAAYC,MAAZ,CAAmBC,KAAnB,CAAyBC,GAAzB,CAA6BL,IAAI,CAACM,QAAlC,CAAd;IACA,IAAI,CAACL,KAAK,EAAEM,MAAZ,EAAoB;IAEpB,MAAMC,SAAS,GAAG,IAAIC,GAAJ,CAAQR,KAAK,CAACM,MAAN,CAAaH,KAArB,CAAlB;;IAEA,KAAK,MAAMM,KAAX,IAAoBV,IAAI,CAACO,MAAzB,EAAiC;MAC/B;MACA,MAAMI,WAAW,GAAGV,KAAK,CAACM,MAAN,CAAaH,KAAb,CAAmBC,GAAnB,CAAuBK,KAAK,CAACE,EAA7B,CAApB;;MACA,IAAID,WAAJ,EAAiB;QACfH,SAAS,CAACK,MAAV,CAAiBH,KAAK,CAACE,EAAvB;;QACA,IAAI,CAACD,WAAW,CAACG,MAAZ,CAAmBJ,KAAnB,CAAL,EAAgC;UAC9B;UACA,KAAKR,MAAL,CAAYa,OAAZ,CAAoBC,gBAApB,CAAqCjB,MAArC,CAA4CY,WAA5C,EAAyDD,KAAzD;QACD;MACF,CAND,MAMO;QACL;QACA,KAAKR,MAAL,CAAYa,OAAZ,CAAoBE,gBAApB,CAAqClB,MAArC,CAA4CE,KAA5C,EAAmDS,KAAnD;MACD;IACF;;IAED,KAAK,MAAMA,KAAX,IAAoBF,SAAS,CAACU,MAAV,EAApB,EAAwC;MACtC;MACA,KAAKhB,MAAL,CAAYa,OAAZ,CAAoBI,gBAApB,CAAqCpB,MAArC,CAA4CW,KAA5C;IACD;EACF;;AA1B0C;;AA6B7CU,MAAM,CAACC,OAAP,GAAiBvB,uBAAjB"},"metadata":{},"sourceType":"script"}